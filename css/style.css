:root{
  --bg:#0b0f14; --card:#121822; --muted:#9fb0c0; --text:#e6edf3; --border:#1f2937;
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--text);font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial}
.container{max-width:1280px;margin:24px auto;padding:0 16px}
header{display:flex;flex-direction:column;gap:8px;margin-bottom:12px}
.controls{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.select,.number,input[type="file"]{background:#0f1722;border:1px solid var(--border);color:var(--text);padding:8px 10px;border-radius:10px}
.hint{color:var(--muted);font-size:12px}
.tabs{display:flex;gap:8px;margin:6px 0 12px}
.tab-btn{padding:10px 14px;border-radius:10px;background:#0f1722;border:1px solid var(--border);color:var(--text);cursor:pointer}
.tab-btn.active{background:#12243a;border-color:#23415f}
.card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:12px;margin-bottom:12px}
.card.inner{margin:0}
.row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.pill{padding:6px 10px;border:1px solid var(--border);border-radius:999px;background:#0f1722}
.checkbox{display:flex;gap:6px;align-items:center}
.btn{background:#0f1722;border:1px solid var(--border);color:#fff;padding:10px 14px;border-radius:10px;cursor:pointer}
.legend{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:8px;margin-top:10px}
.legend .item{display:flex;gap:8px;align-items:center;border:1px solid var(--border);border-radius:10px;padding:8px 10px;background:#0f1722;color:var(--muted);font-size:12px}
.legend .sw{width:18px;height:18px;border-radius:6px;border:1px solid rgba(255,255,255,.15)}
.scroll{max-height:70vh;overflow:auto;border:1px solid var(--border);border-radius:12px}
.scroll.small{max-height:50vh} .scroll.medium{max-height:60vh}
table{width:100%;border-collapse:separate;border-spacing:0;font-size:14px}
thead th{position:sticky;top:0;background:#0f1722;border-bottom:1px solid var(--border);text-align:left;padding:10px 12px}
tbody td{border-bottom:1px solid var(--border);padding:10px 12px;vertical-align:top}
tbody tr:nth-child(even){background:#0e141d}
.grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
@media (max-width:900px){.grid{grid-template-columns:1fr}}
.badges{display:flex;flex-wrap:wrap;gap:6px}
.badge{display:inline-flex;align-items:center;justify-content:center;padding:4px 6px;border-radius:6px;font-weight:600;min-width:36px;border:1px solid rgba(255,255,255,.15)}
.footnote{color:var(--muted);font-size:12px;margin-top:6px}
.main-nav {
  display:flex; gap:10px; background:#0f1722; padding:10px;
}
.main-nav .nav-item {
  color:#9fb0c0; text-decoration:none; padding:8px 14px; border-radius:8px;
}
.main-nav .nav-item.active, .main-nav .nav-item:hover {
  background:#23415f; color:#fff;
}
.page { display:none; padding:16px; }
.page.active { display:block; }
.sub-nav { display:flex; gap:10px; margin:12px 0; }
.sub-btn { padding:8px 14px; border-radius:8px; border:1px solid #1f2937; background:#0f1722; color:#e6edf3; cursor:pointer; }
.sub-btn.active { background:#23415f; }
.sub-tab { display:none; }
.sub-tab.active { display:block; }
/* Legend palette (000–099 ... 900–999) */
.legend {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
  gap: 10px;
  margin: 12px 0;
}
.legend .item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 10px;
  border: 1px solid #2b3647;   /* sẽ bị JS override màu viền theo palette */
  background: #0f1722;         /* sẽ bị JS override nền theo palette */
  color: #e6edf3;
}
.legend .sw {
  display: inline-block;
  width: 20px;
  height: 20px;
  border-radius: 6px;
}

/* Badge có chú thích (số + dòng ghi khoảng cách) */
.badges-annot { display:flex; flex-wrap:wrap; gap:6px; }
.badge-annot {
  display:inline-flex; flex-direction:column; align-items:center; justify-content:center;
  padding:4px 6px; margin:3px; min-width:42px; border-radius:8px;
  border:1px solid rgba(255,255,255,0.15);
  background:#0f1722; color:#e6edf3; font-variant-numeric: tabular-nums;
}
.badge-annot .num { font-weight:700; line-height:1.05; }
.badge-annot .gap { font-size:11px; opacity:.9; line-height:1.1; }

